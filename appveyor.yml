version: "{build}"
image: Visual Studio 2022

platform:
  - Any CPU

configuration:
  - Release

environment:
  EnableNuGetPackageRestore: false

build_script:
  - dotnet build "SubtitleEdit.sln" --configuration %CONFIGURATION%

test_script:
  - dotnet test "src/Test/Test.csproj" --configuration %CONFIGURATION% --logger:trx

cache:
  - packages -> **\Directory.Packages.props

matrix:
  fast_finish: true